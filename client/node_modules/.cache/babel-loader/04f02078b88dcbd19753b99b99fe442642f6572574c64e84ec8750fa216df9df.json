{"ast":null,"code":"import _toConsumableArray from\"C:/VISILAB/Hans/HANS-Platform/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/VISILAB/Hans/HANS-Platform/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{React,useState,useEffect}from\"react\";import Backdrop from'@mui/material/Backdrop';import Box from'@mui/material/Box';import Container from'@mui/material/Container';import AdminLogin from'./AdminLogin.jsx';import AdminInterface from'./AdminInterface.jsx';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function AdminView(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),status=_useState6[0],setStatus=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),sessions=_useState8[0],setSessions=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),questions=_useState10[0],setQuestions=_useState10[1];var joinSession=function joinSession(username,password,status){setUsername(username);setPassword(password);setStatus(status);};useEffect(function(){if(status!=null){fetch(\"/api/session\",{method:'POST',headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify({user:username,pass:password})}).then(function(res){if(res.status===200){res.json().then(function(data){setSessions(data);});}else{res.text().then(function(msg){return console.log(msg);});}}).catch(function(error){console.log(error);});fetch(\"/api/question\",{method:'GET',headers:{'Accept':'application/json'}}).then(function(res){if(res.status===200){res.json().then(function(data){setQuestions(data);});}else{res.text().then(function(msg){return console.log(msg);});}}).catch(function(error){console.log(error);});}},[status]);var handleSessionCreated=function handleSessionCreated(newSession){setSessions([].concat(_toConsumableArray(sessions),[newSession]));};return/*#__PURE__*/_jsxs(Container,{component:\"main\",maxWidth:\"l\",children:[/*#__PURE__*/_jsx(Backdrop,{sx:{backgroundColor:'white',zIndex:function zIndex(theme){return theme.zIndex.drawer+1;}},open:status==null,children:/*#__PURE__*/_jsx(AdminLogin,{onJoinSession:joinSession})}),/*#__PURE__*/_jsx(Box,{component:\"main\",height:\"100vh\",sx:{display:'flex',flexDirection:'column'},children:/*#__PURE__*/_jsx(AdminInterface,{username:username,password:password,questions:questions,sessions:sessions,onSessionCreated:handleSessionCreated})})]});}","map":{"version":3,"names":["React","useState","useEffect","Backdrop","Box","Container","AdminLogin","AdminInterface","AdminView","username","setUsername","password","setPassword","status","setStatus","sessions","setSessions","questions","setQuestions","joinSession","fetch","method","headers","body","JSON","stringify","user","pass","then","res","json","data","text","msg","console","log","catch","error","handleSessionCreated","newSession","backgroundColor","zIndex","theme","drawer","display","flexDirection"],"sources":["C:/VISILAB/Hans/HANS-Platform/client/src/components/admin/AdminView.jsx"],"sourcesContent":["import { React, useState, useEffect } from \"react\";\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\n\r\nimport Box from '@mui/material/Box';\r\nimport Container from '@mui/material/Container';\r\n\r\n\r\nimport AdminLogin from './AdminLogin.jsx';\r\nimport AdminInterface from './AdminInterface.jsx';\r\n\r\nexport default function AdminView() {\r\n    const [username, setUsername] = useState(null);\r\n    const [password, setPassword] = useState(null);\r\n    const [status, setStatus] = useState(null);\r\n    const [sessions, setSessions] = useState(null);\r\n    const [questions, setQuestions] = useState(null);\r\n    const joinSession = (username, password, status) => {\r\n        setUsername(username);\r\n        setPassword(password);\r\n        setStatus(status);\r\n    };\r\n    useEffect(() => {\r\n        if (status != null) {\r\n            fetch(\r\n                `/api/session`,\r\n                {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Accept': 'application/json',\r\n                        'Content-Type': 'application/json'\r\n                    },\r\n                    body: JSON.stringify(\r\n                        {\r\n                            user: username,\r\n                            pass: password\r\n                        }\r\n                    )\r\n                }\r\n            ).then(res => {\r\n                if (res.status === 200) {\r\n                    res.json().then(data => {\r\n                        setSessions(data);\r\n                    });\r\n                } else {\r\n                    res.text().then(msg => console.log(msg));\r\n                }\r\n            }).catch(error => {\r\n                console.log(error);\r\n            });\r\n            fetch(\r\n                `/api/question`,\r\n                {\r\n                    method: 'GET',\r\n                    headers: {\r\n                        'Accept': 'application/json',\r\n                    }\r\n                }\r\n            ).then(res => {\r\n                if (res.status === 200) {\r\n                    res.json().then(data => {\r\n                        setQuestions(data);\r\n                    });\r\n                } else {\r\n                    res.text().then(msg => console.log(msg));\r\n                }\r\n            }).catch(error => {\r\n                console.log(error);\r\n            });\r\n\r\n        }\r\n    }, [status]);\r\n    \r\n    const handleSessionCreated = (newSession) => {\r\n        setSessions([...sessions, newSession]);\r\n    }\r\n    return (\r\n        <Container component=\"main\" maxWidth=\"l\">\r\n            <Backdrop\r\n                sx={{\r\n                    backgroundColor: 'white',\r\n                    zIndex: (theme) => theme.zIndex.drawer + 1,\r\n                }}\r\n                open={status == null}\r\n            >\r\n                <AdminLogin\r\n                    onJoinSession={joinSession}\r\n                />\r\n            </Backdrop>\r\n\r\n            <Box\r\n                component=\"main\"\r\n                height='100vh'\r\n                sx={{\r\n                    display: 'flex',\r\n                    flexDirection: 'column',\r\n                }}\r\n            >\r\n                <AdminInterface\r\n                    username={username}\r\n                    password={password}\r\n                    questions={questions}\r\n                    sessions={sessions}\r\n                    onSessionCreated={handleSessionCreated}\r\n                ></AdminInterface>\r\n            </Box>\r\n        </Container>\r\n\r\n\r\n    );\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}